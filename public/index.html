<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestionnaire de Clan - Clash of Clans</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div class="container-fluid px-2 px-md-3 px-lg-4">
        <!-- Header responsive -->
        <header class="bg-gradient-primary text-white rounded-3 shadow-sm my-2 mb-md-4">
            <div class="container-fluid py-3 py-md-4">
                <div class="row flex-md-nowrap align-items-center gap-2">
                    <div class="col-12 col-md-6 text-center text-md-start">
                        <div class="d-flex align-items-center justify-content-center justify-content-md-start">
                            <div class="header-badge me-3"></div>
                            <h1 class="h2 h1-md mb-0 fw-bold">CatBreakers</h1>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 mt-3 mt-md-0 justify-content-center">
                        <!-- Contrôles responsive -->
                        <div class="row g-2 justify-content-end me-xxl-4">
                            <div class="col-6 col-sm-3 col-md-4 col-lg-3">
                                <input type="text" id="clanTag" class="form-control form-control-sm" 
                                       placeholder="Tag du clan (ex: #ABC123)" value="#2GCYYYU82">
                            </div>
                            <div class="col-6 col-sm-3 col-md-4 col-lg-3">
                                <button id="refreshBtn" class="btn btn-primary btn-sm w-100">Rafraîchir</button>
                            </div>
                        </div>
                        <!-- Boutons de synchronisation et gestion des données -->
                        <div class="row g-2 justify-content-end me-xxl-4 mt-2">
                            <div class="col-4 col-sm-2 col-md-2">
                                <button id="syncBtn" class="btn btn-outline-light btn-sm w-100" title="Synchroniser avec le serveur">
                                    <i class="bi bi-arrow-clockwise"></i> Sync
                                </button>
                            </div>
                            <div class="col-4 col-sm-2 col-md-2">
                                <button id="exportBtn" class="btn btn-outline-light btn-sm w-100" title="Exporter les données">
                                    <i class="bi bi-download"></i> Export
                                </button>
                            </div>
                            <div class="col-4 col-sm-2 col-md-2">
                                <button id="importBtn" class="btn btn-outline-light btn-sm w-100" title="Importer des données">
                                    <i class="bi bi-upload"></i> Import
                                </button>
                                <input type="file" id="importFile" accept=".json" style="display: none;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <main class="container-fluid">
            <!-- Barre de recherche responsive -->
            <div class="row mb-3 mb-md-4 justify-content-center">
                <div class="col-12 col-md-8 col-lg-6 col-xxl-4">
                    <div class="position-relative">
                        <input type="text" id="searchInput" class="form-control form-control-lg search-input" 
                               placeholder="Rechercher par nom, tag ou rôle" autocomplete="off">
                    </div>
                    <div class="search-results-info mt-2 text-center text-md-start" id="searchResultsInfo"></div>
                </div>
            </div>
            
            <!-- Tableau responsive -->
            <div class="row">
                <div class="col-12">
                    <div class="card shadow-sm">
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table id="membersTable" class="table table-hover mb-0">
                                    <thead class="table-light">
                                        <tr>
                                            <th class="expand-column d-none d-md-table-cell"></th>
                                            <th>Nom</th>
                                            <th class="d-none d-sm-table-cell">Niveau</th>
                                            <th class="d-none d-md-table-cell">Rôle</th>
                                            <th class="d-none d-lg-table-cell">Commentaires</th>
                                            <th class="d-none d-xl-table-cell">Participations</th>
                                            <th class="d-md-none text-end"></th>
                                        </tr>
                                    </thead>
                                    <tbody id="membersTableBody">
                                        <!-- Les données seront ajoutées dynamiquement -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>


    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Import des modules JavaScript dans l'ordre correct -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/table.js"></script>
    <script src="js/search.js"></script>
    <script src="js/expandable.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
